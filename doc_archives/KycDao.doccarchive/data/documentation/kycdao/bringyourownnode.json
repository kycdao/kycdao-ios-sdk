{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The article provides you with details on how you can use your own RPC URLs instead of relying on the defaults used automatically by the library. There are two main ways the library interacts with custom RPCs:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"through objects conforming to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletSessionProtocol"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"using "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/NetworkOptions"},{"type":"text","text":" data"}]}]}]},{"anchor":"For-DApps","level":2,"type":"heading","text":"For DApps"},{"anchor":"Custom-RPC-for-the-verification","level":3,"type":"heading","text":"Custom RPC for the verification"},{"type":"paragraph","inlineContent":[{"type":"text","text":"For every network you wish to have a connection to through your RPC, you have to add that network - RPC pair to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletConnectManager"},{"type":"text","text":". This will make sure that every wallet session will be initialized to use the RPC you provided."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Setting the RPC is done by calling "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletConnectManager\/setRPCURL(_:forChain:)"},{"type":"text","text":". Chain is a "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/ChainAgnostic\/CAIPs\/blob\/master\/CAIPs\/caip-2.md"},{"type":"text","text":" chain id."}]},{"type":"codeListing","syntax":"swift","code":["WalletConnectManager.shared.setRPCURL(URL(string: \"https:\/\/your.node\/some\/thing\")!, ","                                      forChain: \"eip155:80001\")"]},{"style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You should set your RPC settings for "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletConnectManager"},{"type":"text","text":" at app launch, or at least before you call "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletConnectManager\/startListening()"},{"type":"text","text":" first."}]}],"type":"aside","name":"Note"},{"anchor":"Custom-RPC-for-token-validity-check","level":3,"type":"heading","text":"Custom RPC for token validity check"},{"anchor":"Method-1-Use-WalletSession","level":4,"type":"heading","text":"Method 1: Use WalletSession"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Since you have two methods to check token validity, one of which accepts "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletSessionProtocol"},{"type":"text","text":", you can use the same "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletConnectManager\/setRPCURL(_:forChain:)"},{"type":"text","text":" function discussed above to set the URL and then pass your "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletConnectSession"},{"type":"text","text":" as a parameter to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/VerificationManager\/hasValidToken(verificationType:walletAddress:walletSession:)"}]},{"anchor":"Method-2-Use-NetworkOptions","level":4,"type":"heading","text":"Method 2: Use NetworkOptions"},{"type":"codeListing","syntax":"swift","code":["let networkOptions = NetworkOptions(chainId: \"eip155:80001\", ","                                    rpcURL: URL(string: \"https:\/\/your.node\/some\/thing\")!)","","let hasValidToken = try await VerificationManager.shared.hasValidToken(verificationType: .kyc,","                                                                       walletAddress: walletAddress,","                                                                       networkOptions: networkOptions)"]},{"anchor":"For-Wallets","level":2,"type":"heading","text":"For Wallets"},{"anchor":"Custom-RPC-for-the-verification","level":3,"type":"heading","text":"Custom RPC for the verification"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When conforming to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletSessionProtocol"},{"type":"text","text":", you have the option to return an RPC URL with the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletSessionProtocol\/rpcURL"},{"type":"text","text":" property."},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/VerificationSession"},{"type":"text","text":" will use your provided RPC after you create one with your "},{"type":"codeVoice","code":"WalletSession"},{"type":"text","text":" object."}]},{"anchor":"Custom-RPC-for-token-validity-check","level":3,"type":"heading","text":"Custom RPC for token validity check"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You have the same options here as during the DApp integration"}]},{"anchor":"Method-1-Use-WalletSession","level":4,"type":"heading","text":"Method 1: Use WalletSession"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Call "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/VerificationManager\/hasValidToken(verificationType:walletAddress:walletSession:)"},{"type":"text","text":" and pass your "},{"type":"codeVoice","code":"WalletSession"},{"type":"text","text":" object in, which should have a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletSessionProtocol\/rpcURL"},{"type":"text","text":" property having your RPC URL set."}]},{"anchor":"Method-2-Use-NetworkOptions","level":4,"type":"heading","text":"Method 2: Use NetworkOptions"},{"type":"codeListing","syntax":"swift","code":["let networkOptions = NetworkOptions(chainId: \"eip155:80001\", ","                                    rpcURL: URL(string: \"https:\/\/your.node\/some\/thing\")!)","","let hasValidToken = try await VerificationManager.shared.hasValidToken(verificationType: .kyc,","                                                                       walletAddress: walletAddress,","                                                                       networkOptions: networkOptions)"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/kycdao\/bringyourownnode"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/KycDao\/documentation\/KycDao\/BringYourOwnNode","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Use your own RPC URLs to handle network calls"}],"kind":"article","metadata":{"roleHeading":"Article","title":"Bring Your Own Node","role":"article","modules":[{"name":"KycDao"}]},"hierarchy":{"paths":[["doc:\/\/KycDao\/documentation\/KycDao"]]},"seeAlsoSections":[{"title":"Articles","identifiers":["doc:\/\/KycDao\/documentation\/KycDao\/Installation","doc:\/\/KycDao\/documentation\/KycDao\/DAppIntegration","doc:\/\/KycDao\/documentation\/KycDao\/WalletIntegration","doc:\/\/KycDao\/documentation\/KycDao\/Onboarding"],"generated":true}],"references":{"doc://KycDao/documentation/KycDao/VerificationSession":{"role":"symbol","title":"VerificationSession","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"VerificationSession"}],"abstract":[{"type":"text","text":"A verification session object which contains session related data and session related operations"}],"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/VerificationSession","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"VerificationSession"}],"url":"\/documentation\/kycdao\/verificationsession"},"doc://KycDao/documentation/KycDao/Installation":{"role":"article","title":"Installation","abstract":[{"type":"text","text":"Adding kycDAO SDK to your project"}],"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/Installation","kind":"article","type":"topic","url":"\/documentation\/kycdao\/installation"},"doc://KycDao/documentation/KycDao/WalletConnectManager/startListening()":{"role":"symbol","title":"startListening()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"startListening"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Start listening for incoming connections from wallets"}],"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletConnectManager\/startListening()","kind":"symbol","type":"topic","url":"\/documentation\/kycdao\/walletconnectmanager\/startlistening()"},"doc://KycDao/documentation/KycDao/NetworkOptions":{"role":"symbol","title":"NetworkOptions","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"NetworkOptions"}],"abstract":[{"type":"text","text":"A set of options for any chain"}],"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/NetworkOptions","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"NetworkOptions"}],"url":"\/documentation\/kycdao\/networkoptions"},"https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md":{"title":"CAIP-2 format","titleInlineContent":[{"type":"text","text":"CAIP-2 format"}],"type":"link","identifier":"https:\/\/github.com\/ChainAgnostic\/CAIPs\/blob\/master\/CAIPs\/caip-2.md","url":"https:\/\/github.com\/ChainAgnostic\/CAIPs\/blob\/master\/CAIPs\/caip-2.md"},"doc://KycDao/documentation/KycDao/VerificationManager/hasValidToken(verificationType:walletAddress:walletSession:)":{"role":"symbol","title":"hasValidToken(verificationType:walletAddress:walletSession:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"hasValidToken"},{"kind":"text","text":"("},{"kind":"externalParam","text":"verificationType"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"VerificationType","preciseIdentifier":"s:6KycDao16VerificationTypeO"},{"kind":"text","text":", "},{"kind":"externalParam","text":"walletAddress"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"walletSession"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"WalletSessionProtocol","preciseIdentifier":"s:6KycDao21WalletSessionProtocolP"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"}],"abstract":[{"type":"text","text":"Checks on-chain whether the wallet has a valid token for the verification type"}],"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/VerificationManager\/hasValidToken(verificationType:walletAddress:walletSession:)","kind":"symbol","type":"topic","url":"\/documentation\/kycdao\/verificationmanager\/hasvalidtoken(verificationtype:walletaddress:walletsession:)"},"doc://KycDao/documentation/KycDao":{"role":"collection","title":"KycDao","abstract":[{"type":"text","text":"On-chain KYC - Bridge IRL to web3"}],"identifier":"doc:\/\/KycDao\/documentation\/KycDao","kind":"symbol","type":"topic","url":"\/documentation\/kycdao"},"doc://KycDao/documentation/KycDao/WalletConnectSession":{"role":"symbol","title":"WalletConnectSession","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"WalletConnectSession"}],"abstract":[{"type":"text","text":"A class representing a session with a WalletConnect wallet"}],"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletConnectSession","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"WalletConnectSession"}],"url":"\/documentation\/kycdao\/walletconnectsession"},"doc://KycDao/documentation/KycDao/WalletConnectManager/setRPCURL(_:forChain:)":{"role":"symbol","title":"setRPCURL(_:forChain:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"setRPCURL"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"forChain"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Set a default RPC URL to be assigned to newly opened WalletConnect sessions with a given chain"}],"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletConnectManager\/setRPCURL(_:forChain:)","kind":"symbol","type":"topic","url":"\/documentation\/kycdao\/walletconnectmanager\/setrpcurl(_:forchain:)"},"doc://KycDao/documentation/KycDao/WalletSessionProtocol":{"role":"symbol","title":"WalletSessionProtocol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"WalletSessionProtocol"}],"abstract":[{"type":"text","text":"The protocol describes a communication session with a wallet that can be used during the verification process."}],"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletSessionProtocol","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"WalletSessionProtocol"}],"url":"\/documentation\/kycdao\/walletsessionprotocol"},"doc://KycDao/documentation/KycDao/Onboarding":{"role":"article","title":"Onboarding","abstract":[{"type":"text","text":"A guide for the verification process and NFT minting"}],"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/Onboarding","kind":"article","type":"topic","url":"\/documentation\/kycdao\/onboarding"},"doc://KycDao/documentation/KycDao/WalletSessionProtocol/rpcURL":{"role":"symbol","title":"rpcURL","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"rpcURL"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"A custom RPC URL you whish to use during on-chain calls."}],"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletSessionProtocol\/rpcURL","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/kycdao\/walletsessionprotocol\/rpcurl"},"doc://KycDao/documentation/KycDao/WalletIntegration":{"role":"article","title":"Wallet Integration","abstract":[{"type":"text","text":"Wallet integration guide"}],"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletIntegration","kind":"article","type":"topic","url":"\/documentation\/kycdao\/walletintegration"},"doc://KycDao/documentation/KycDao/DAppIntegration":{"role":"article","title":"DApp and Web2 Integration","abstract":[{"type":"text","text":"DApp and Web2 integration guide"}],"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/DAppIntegration","kind":"article","type":"topic","url":"\/documentation\/kycdao\/dappintegration"},"doc://KycDao/documentation/KycDao/WalletConnectManager":{"role":"symbol","title":"WalletConnectManager","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"WalletConnectManager"}],"abstract":[{"type":"text","text":"A WalletConnect V1 compatibility support class. Use this, if you want to connect the verification flow to a wallet through WalletConnect"}],"identifier":"doc:\/\/KycDao\/documentation\/KycDao\/WalletConnectManager","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"WalletConnectManager"}],"url":"\/documentation\/kycdao\/walletconnectmanager"}}}